{% extends "layout.html" %}

{% block content %}
<div class="home-container">
    <h2 class="title">Home</h2>
    <button id="createNew" class="new">Create Blank Report</button>
    <div class="recent-files">
        <table>  
            <thead>
                <tr>
                    <th>Filename</th>
                    <th>Type</th>
                    <th>Path</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                {% for file in files %}
                <tr>
                    <td>{{ file.filename }}</td>
                    <td>{{ file.type }}</td>
                    <td>{{ file.timestamp | format_date }}</td>  <!-- Use the custom filter here -->
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<script> document.addEventListener('DOMContentLoaded', function() {
    const tableBody = document.getElementById('tableBody');
    
    const dummyFiles = [
        {
            filename: 'report1.csv',
            type: 'CSV',
            path: '/documents/report1.csv',
            timestamp: '2024-03-15 10:30:00'
        },
        {
            filename: 'analysis.csv',
            type: 'csv',
            path: '/documents/analysis.csv',
            timestamp: '2024-03-14 15:45:00'
        }
    ];

    dummyFiles.forEach(file => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${file.filename}</td>
            <td>${file.type}</td>
            <td>${file.path}</td>
            <td>${file.timestamp}</td>
        `;
        tableBody.appendChild(row);
    });
});</script>
{% endblock %}
